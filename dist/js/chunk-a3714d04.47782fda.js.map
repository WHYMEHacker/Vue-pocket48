{"version":3,"sources":["webpack:///./src/components/discovery/music.vue?c9aa","webpack:///src/components/discovery/music.vue","webpack:///./src/components/discovery/music.vue?c6b5","webpack:///./src/components/discovery/music.vue","webpack:///./src/components/discovery/music.vue?97c9"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","inline","model","value","callback","$$v","group","expression","_v","type","placeholder","num","on","click","getMusicList","playOrPause","_l","item","i","key","$event","getPlayUrl","songmid","src","albumid","alt","title","songname","domProps","innerHTML","_s","singer","name","ref","staticRenderFns","musicvue_type_script_lang_js_","data","list","isPaused","methods","_getMusicList","Object","asyncToGenerator","regeneratorRuntime","mark","_callee","res","wrap","_context","prev","next","ajax","sent","substring","length","JSON","parse","song","stop","apply","arguments","_getPlayUrl","_callee2","_context2","$refs","audio","items","filename","vkey","play","_x","pause","created","discovery_musicvue_type_script_lang_js_","component","componentNormalizer","__webpack_exports__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_10_oneOf_1_0_node_modules_css_loader_index_js_ref_10_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_10_oneOf_1_2_node_modules_less_loader_dist_cjs_js_ref_10_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_music_vue_vue_type_style_index_0_id_91670cc2_lang_less_scoped_true___WEBPACK_IMPORTED_MODULE_0__","__webpack_require__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_10_oneOf_1_0_node_modules_css_loader_index_js_ref_10_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_10_oneOf_1_2_node_modules_less_loader_dist_cjs_js_ref_10_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_music_vue_vue_type_style_index_0_id_91670cc2_lang_less_scoped_true___WEBPACK_IMPORTED_MODULE_0___default","n"],"mappings":"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","file":"js/chunk-a3714d04.47782fda.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('el-form',{staticClass:\"radio-list\",attrs:{\"inline\":\"\"}},[_c('el-form-item',[_c('el-select',{model:{value:(_vm.group),callback:function ($$v) {_vm.group=$$v},expression:\"group\"}},[_c('el-option',{attrs:{\"value\":\"SNH48\"}},[_vm._v(\"SNH48\")]),_c('el-option',{attrs:{\"value\":\"BEJ48\"}},[_vm._v(\"BEJ48\")]),_c('el-option',{attrs:{\"value\":\"GNZ48\"}},[_vm._v(\"GNZ48\")]),_c('el-option',{attrs:{\"value\":\"SNH48_7SENSES\"}},[_vm._v(\"7SENSES\")])],1)],1),_c('el-form-item',[_c('el-input',{attrs:{\"type\":\"number\",\"placeholder\":\"请输入要显示结果数\"},model:{value:(_vm.num),callback:function ($$v) {_vm.num=$$v},expression:\"num\"}})],1),_c('el-form-item',[_c('el-button',{attrs:{\"type\":\"success\"},on:{\"click\":_vm.getMusicList}},[_vm._v(\"确定\")]),(_vm.isPaused)?_c('el-button',{on:{\"click\":_vm.playOrPause}},[_vm._v(\"播放\")]):_c('el-button',{on:{\"click\":_vm.playOrPause}},[_vm._v(\"暂停\")])],1)],1),_c('div',{staticClass:\"music-list\"},_vm._l((_vm.list),function(item,i){return _c('div',{key:i,staticClass:\"music-item my-card\",on:{\"click\":function($event){return _vm.getPlayUrl(item.songmid)}}},[_c('img',{staticClass:\"image\",attrs:{\"src\":'http://imgcache.qq.com/music/photo/album_300/' +\n          (item.albumid % 100) +\n          '/300_albumpic_' +\n          item.albumid +\n          '_0.jpg',\"alt\":\"\"}}),_c('div',{staticClass:\"songinfo\"},[_c('p',{staticClass:\"songname\",attrs:{\"title\":item.songname},domProps:{\"innerHTML\":_vm._s(item.songname)}}),_c('p',{staticClass:\"singername\",domProps:{\"innerHTML\":_vm._s(item.singer[0].name)}})])])}),0),_c('audio',{ref:\"audio\",attrs:{\"src\":\"none\"}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div>\r\n    <el-form inline class=\"radio-list\">\r\n      <el-form-item>\r\n        <el-select v-model=\"group\">\r\n          <el-option value=\"SNH48\">SNH48</el-option>\r\n          <el-option value=\"BEJ48\">BEJ48</el-option>\r\n          <el-option value=\"GNZ48\">GNZ48</el-option>\r\n          <el-option value=\"SNH48_7SENSES\">7SENSES</el-option>\r\n        </el-select>\r\n      </el-form-item>\r\n      <el-form-item>\r\n        <el-input type=\"number\" v-model=\"num\" placeholder=\"请输入要显示结果数\"></el-input>\r\n      </el-form-item>\r\n      <el-form-item>\r\n        <el-button type=\"success\" @click=\"getMusicList\">确定</el-button>\r\n        <el-button @click=\"playOrPause\" v-if=\"isPaused\">播放</el-button>\r\n        <el-button @click=\"playOrPause\" v-else>暂停</el-button>\r\n      </el-form-item>\r\n    </el-form>\r\n    <div class=\"music-list\">\r\n      <div class=\"music-item my-card\" v-for=\"(item, i) in list\" :key=\"i\" @click=\"getPlayUrl(item.songmid)\">\r\n        <img\r\n          class=\"image\"\r\n          :src=\"\r\n          'http://imgcache.qq.com/music/photo/album_300/' +\r\n            (item.albumid % 100) +\r\n            '/300_albumpic_' +\r\n            item.albumid +\r\n            '_0.jpg'\r\n        \"\r\n          alt\r\n        >\r\n        <div class=\"songinfo\">\r\n          <p class=\"songname\" :title=\"item.songname\" v-html=\"item.songname\"></p>\r\n          <p class=\"singername\" v-html=\"item.singer[0].name\"></p>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <audio src=\"none\" ref=\"audio\"></audio>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: \"music\",\r\n  data() {\r\n    return {\r\n      list: [],\r\n      group: 'SNH48',\r\n      num: 30,\r\n      isPaused: true\r\n    };\r\n  },\r\n  methods: {\r\n    async getMusicList() {\r\n      const res = await this.ajax('/getMusicList',{group:this.group,num:this.num})\r\n      let data = res\r\n      data = data.substring(9,data.length-1)\r\n      data = JSON.parse(data)\r\n      this.list = data.data.song.list\r\n    },\r\n    async getPlayUrl(songmid) {\r\n      const res = await this.ajax(\"/getPlayUrl\",{songmid:songmid})\r\n      this.$refs.audio.src =\r\n        \"http://ws.stream.qqmusic.qq.com/\" +\r\n        res.data.items[0].filename +\r\n        \"?fromtag=0&guid=126548448&vkey=\" +\r\n        res.data.items[0].vkey;\r\n      this.$refs.audio.play();\r\n      this.isPaused = false\r\n    },\r\n    playOrPause(){\r\n      if(this.$refs.audio.src === 'http://localhost:8080/none'){\r\n        this.getPlayUrl(this.list[0].songmid)\r\n        this.isPaused = false\r\n      }else{\r\n        if(this.isPaused){\r\n          this.$refs.audio.play()\r\n          this.isPaused = false\r\n        }else{\r\n          this.$refs.audio.pause()\r\n          this.isPaused = true\r\n        }\r\n      }\r\n    }\r\n  },\r\n  created() {\r\n    this.getMusicList();\r\n  }\r\n};\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n  .radio-list{\r\n    width: 85%;\r\n    margin: 0 auto;\r\n  }\r\n.music-list{\r\n  padding: 0 5px;\r\n  display: flex;\r\n  flex-wrap: wrap;\r\n  margin-bottom: 5px;\r\n  margin-top: -5px;\r\n  width: 85%;\r\n  margin: 0 auto;\r\n  .music-item {\r\n    flex: 1;\r\n    margin: 5px;\r\n    display: flex;\r\n    flex-direction: column;\r\n    min-width: 120px;\r\n    max-width: 206px;\r\n    justify-content: space-between;\r\n    align-items: center;\r\n    &:hover{\r\n      background-color: #eee;\r\n      box-shadow: 0 0 5px #ccc;\r\n      cursor: pointer;\r\n    }\r\n    .image {\r\n      width: 100%;\r\n    }\r\n    .songinfo {\r\n      text-align: center;\r\n      .songname{\r\n        font-size: 14px;\r\n        max-height: 20px;\r\n        overflow: hidden;\r\n      }\r\n      .singername {\r\n        font-size: 12px;\r\n        height: 25px;\r\n        color: #999;\r\n      }\r\n    }\r\n  }\r\n}\r\n@media screen and (min-width: 1368px){\r\n  .music-list,.radio-list{\r\n    width: 1160px;\r\n  }\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./music.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./music.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./music.vue?vue&type=template&id=91670cc2&scoped=true&\"\nimport script from \"./music.vue?vue&type=script&lang=js&\"\nexport * from \"./music.vue?vue&type=script&lang=js&\"\nimport style0 from \"./music.vue?vue&type=style&index=0&id=91670cc2&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"91670cc2\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--10-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./music.vue?vue&type=style&index=0&id=91670cc2&lang=less&scoped=true&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--10-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./music.vue?vue&type=style&index=0&id=91670cc2&lang=less&scoped=true&\""],"sourceRoot":""}