{"version":3,"sources":["webpack:///./src/components/subComponents/popupInfo.vue?01c4","webpack:///./src/components/subComponents/commentList.vue?f8df","webpack:///./src/components/room/roommsg.vue?d7ec","webpack:///./src/components/subComponents/msgList.vue?80ab","webpack:///src/components/subComponents/msgList.vue","webpack:///./src/components/subComponents/msgList.vue?25da","webpack:///./src/components/subComponents/msgList.vue","webpack:///./src/components/subComponents/commentList.vue?c987","webpack:///src/components/subComponents/commentList.vue","webpack:///./src/components/subComponents/commentList.vue?39a9","webpack:///./src/components/subComponents/commentList.vue","webpack:///src/components/room/roommsg.vue","webpack:///./src/components/room/roommsg.vue?a710","webpack:///./src/components/room/roommsg.vue","webpack:///./src/components/subComponents/msgList.vue?9c84","webpack:///./src/components/subComponents/popupInfo.vue?2fa3","webpack:///src/components/subComponents/popupInfo.vue","webpack:///./src/components/subComponents/popupInfo.vue?d8db","webpack:///./src/components/subComponents/popupInfo.vue","webpack:///./src/components/room/roommsg.vue?c184"],"names":["_node_modules_mini_css_extract_plugin_dist_loader_js_ref_10_oneOf_1_0_node_modules_css_loader_index_js_ref_10_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_10_oneOf_1_2_node_modules_less_loader_dist_cjs_js_ref_10_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_popupInfo_vue_vue_type_style_index_0_id_76e71436_lang_less_scoped_true___WEBPACK_IMPORTED_MODULE_0__","__webpack_require__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_10_oneOf_1_0_node_modules_css_loader_index_js_ref_10_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_10_oneOf_1_2_node_modules_less_loader_dist_cjs_js_ref_10_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_popupInfo_vue_vue_type_style_index_0_id_76e71436_lang_less_scoped_true___WEBPACK_IMPORTED_MODULE_0___default","n","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_10_oneOf_1_0_node_modules_css_loader_index_js_ref_10_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_10_oneOf_1_2_node_modules_less_loader_dist_cjs_js_ref_10_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_commentList_vue_vue_type_style_index_0_id_031dfe8e_lang_less_scoped_true___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_10_oneOf_1_0_node_modules_css_loader_index_js_ref_10_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_10_oneOf_1_2_node_modules_less_loader_dist_cjs_js_ref_10_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_commentList_vue_vue_type_style_index_0_id_031dfe8e_lang_less_scoped_true___WEBPACK_IMPORTED_MODULE_0___default","render","_vm","this","_h","$createElement","_c","_self","ref","staticClass","on","click","toTop","$event","shouldShowAllMsg","directives","name","rawName","value","expression","key","attrs","ownerId","roomId","staticRenderFns","msgListvue_type_template_id_1b03bdfa_scoped_true_render","tag","_l","item","msgTime","domProps","innerHTML","_s","Date","parseInt","toLocaleDateString","src","_f","JSON","parse","extInfo","user","avatar","alt","nickName","getMemberDetail","msgType","bodys","url","emotionName","answer","question","text","replyText","staticStyle","cursor","color","liveTitle","getLivePage","liveId","stop","getAudio","_v","dur","controls","_e","getMore","msgList","msgListvue_type_template_id_1b03bdfa_scoped_true_staticRenderFns","msgListvue_type_script_lang_js_","data","nextTime","base64Str","answerContent","props","methods","getMsgList","_getMsgList","Object","asyncToGenerator","regeneratorRuntime","mark","_callee","res","wrap","_context","prev","next","ajax","token","$store","getters","getToken","sent","content","message","apply","arguments","_getMore","_callee2","_context2","concat","commit","getAnswer","_getAnswer","_callee3","questionId","answerId","title","h","_context3","$msgbox","style","confirmButtonText","_x","_x2","_x3","_getAudio","_callee4","_context4","status","RongIMLib","RongIMVoice","init","play","_x4","id","$router","push","params","type","memberName","includes","split","group","length","created","subComponents_msgListvue_type_script_lang_js_","component","componentNormalizer","commentListvue_type_template_id_031dfe8e_scoped_true_render","msgidClient","class","isSpec","userId","getUserInfo","showInfo","info","userInfo","commentList","commentListvue_type_template_id_031dfe8e_scoped_true_staticRenderFns","commentListvue_type_script_lang_js_","topData","getComments","_getComments","components","popupInfo","subComponents_commentListvue_type_script_lang_js_","commentList_component","roommsgvue_type_script_lang_js_","$route","bgPath","localStorage","getItem","top","document","body","scrollTop","documentElement","mounted","setItem","stringify_default","$refs","bgPic","background","backgroundPosition","backgroundAttachment","watch","room_roommsgvue_type_script_lang_js_","roommsg_component","__webpack_exports__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_10_oneOf_1_0_node_modules_css_loader_index_js_ref_10_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_10_oneOf_1_2_node_modules_less_loader_dist_cjs_js_ref_10_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_msgList_vue_vue_type_style_index_0_id_1b03bdfa_lang_less_scoped_true___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_10_oneOf_1_0_node_modules_css_loader_index_js_ref_10_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_10_oneOf_1_2_node_modules_less_loader_dist_cjs_js_ref_10_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_msgList_vue_vue_type_style_index_0_id_1b03bdfa_lang_less_scoped_true___WEBPACK_IMPORTED_MODULE_0___default","goToUserInfo","size","popupInfovue_type_script_lang_js_","subComponents_popupInfovue_type_script_lang_js_","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_10_oneOf_1_0_node_modules_css_loader_index_js_ref_10_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_10_oneOf_1_2_node_modules_less_loader_dist_cjs_js_ref_10_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_roommsg_vue_vue_type_style_index_0_id_f6756a72_lang_less_scoped_true___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_10_oneOf_1_0_node_modules_css_loader_index_js_ref_10_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_10_oneOf_1_2_node_modules_less_loader_dist_cjs_js_ref_10_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_roommsg_vue_vue_type_style_index_0_id_f6756a72_lang_less_scoped_true___WEBPACK_IMPORTED_MODULE_0___default"],"mappings":"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","file":"js/chunk-85f3eaf2.f0ef23e5.js","sourcesContent":["import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--10-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./popupInfo.vue?vue&type=style&index=0&id=76e71436&lang=less&scoped=true&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--10-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./popupInfo.vue?vue&type=style&index=0&id=76e71436&lang=less&scoped=true&\"","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--10-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./commentList.vue?vue&type=style&index=0&id=031dfe8e&lang=less&scoped=true&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--10-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./commentList.vue?vue&type=style&index=0&id=031dfe8e&lang=less&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{ref:\"bgPic\",staticClass:\"msg-container\"},[_c('div',{staticClass:\"top\",on:{\"click\":_vm.toTop}},[_c('i',{staticClass:\"el-icon-arrow-up\"})]),_c('div',{staticClass:\"show-all-msg\"},[_c('i',{staticClass:\"el-icon-arrow-left\",on:{\"click\":function($event){_vm.shouldShowAllMsg = !_vm.shouldShowAllMsg}}})]),_c('div',{staticClass:\"list\"},[_c('transition-group',[_c('msg-list',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.shouldShowAllMsg),expression:\"!shouldShowAllMsg\"}],key:1,attrs:{\"ownerId\":_vm.ownerId,\"roomId\":_vm.roomId}}),_c('comment-list',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.shouldShowAllMsg),expression:\"shouldShowAllMsg\"}],key:2,attrs:{\"roomId\":_vm.roomId}})],1)],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"msg-list\"},[_c('transition-group',{attrs:{\"tag\":\"div\"}},_vm._l((_vm.msgList),function(item){return _c('div',{key:item.msgTime,staticClass:\"msg-item my-card\"},[_c('p',{staticClass:\"msg-time\",domProps:{\"innerHTML\":_vm._s(new Date(parseInt(item.msgTime)).toLocaleDateString())}}),_c('p',{staticClass:\"msg-sender\"},[_c('img',{staticClass:\"sender-avatar\",attrs:{\"src\":_vm._f(\"picPathFormat\")(JSON.parse(item.extInfo).user.avatar),\"alt\":\"\"}}),_c('span',{staticClass:\"sender-name\",domProps:{\"innerHTML\":_vm._s(JSON.parse(item.extInfo).user.nickName)},on:{\"click\":function($event){_vm.getMemberDetail(JSON.parse(item.extInfo).user.nickName)}}})]),(item.msgType==='IMAGE')?_c('p',{staticClass:\"msg-content\"},[_c('img',{staticClass:\"msg-img\",attrs:{\"src\":JSON.parse(item.bodys).url,\"alt\":\"\"}})]):(item.msgType==='EXPRESS')?_c('p',{staticClass:\"msg-content\"},[_c('span',{domProps:{\"innerHTML\":_vm._s(JSON.parse(item.extInfo).emotionName)}})]):(item.bodys==='偶像翻牌')?_c('p',{staticClass:\"msg-content\"},[_c('span',{domProps:{\"innerHTML\":_vm._s(JSON.parse(item.extInfo).answer)}}),_c('br'),_c('span',{staticClass:\"fanpai\",domProps:{\"innerHTML\":_vm._s(JSON.parse(item.extInfo).question)}})]):(JSON.parse(item.extInfo).replyName)?_c('p',{staticClass:\"msg-content\"},[_c('span',{domProps:{\"innerHTML\":_vm._s(JSON.parse(item.extInfo).text)}}),_c('br'),_c('span',{staticClass:\"fanpai\",domProps:{\"innerHTML\":_vm._s(JSON.parse(item.extInfo).replyText)}})]):(JSON.parse(item.extInfo).liveCover)?_c('p',{staticClass:\"msg-content\"},[_c('span',{staticStyle:{\"cursor\":\"pointer\",\"color\":\"blue\"},domProps:{\"innerHTML\":_vm._s('直播：'+JSON.parse(item.extInfo).liveTitle)},on:{\"click\":function($event){_vm.getLivePage(JSON.parse(item.extInfo).liveId)}}}),_c('br')]):(item.msgType==='AUDIO')?_c('p',{staticClass:\"msg-content\",on:{\"click\":_vm.stop}},[_c('el-button',{on:{\"click\":function($event){_vm.getAudio(JSON.parse(item.bodys).url)}}},[_vm._v(\"\\n          语音消息 \"+_vm._s(JSON.parse(item.bodys).dur/1000)+\"s\\n        \")])],1):(item.msgType==='VIDEO')?_c('p',{staticClass:\"msg-content\"},[_c('video',{staticClass:\"msg-video\",attrs:{\"controls\":\"\",\"src\":JSON.parse(item.bodys).url,\"alt\":\"\"}})]):(item.msgType==='TEXT')?_c('p',{staticClass:\"msg-content\",domProps:{\"innerHTML\":_vm._s(JSON.parse(item.extInfo).text)}}):_vm._e()])}),0),_c('div',{staticClass:\"button\",on:{\"click\":_vm.getMore}},[_c('i',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.msgList[0]),expression:\"msgList[0]\"}],staticClass:\"el-icon-arrow-down\"})])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"msg-list\">\r\n    <transition-group tag=\"div\">\r\n      <div v-for=\"item in msgList\" :key=\"item.msgTime\" class=\"msg-item my-card\">\r\n        <p class=\"msg-time\" v-html=\"new Date(parseInt(item.msgTime)).toLocaleDateString()\"></p>\r\n        <p class=\"msg-sender\">\r\n          <img :src=\"JSON.parse(item.extInfo).user.avatar | picPathFormat\" alt class=\"sender-avatar\">\r\n          <span v-html=\"JSON.parse(item.extInfo).user.nickName\" @click=\"getMemberDetail(JSON.parse(item.extInfo).user.nickName)\" class=\"sender-name\"></span>\r\n        </p>\r\n        <p class=\"msg-content\" v-if=\"item.msgType==='IMAGE'\">\r\n          <img :src=\"JSON.parse(item.bodys).url\" alt class=\"msg-img\">\r\n        </p>\r\n        <p class=\"msg-content\" v-else-if=\"item.msgType==='EXPRESS'\">\r\n          <span v-html=\"JSON.parse(item.extInfo).emotionName\"></span>\r\n        </p>\r\n        <p class=\"msg-content\" v-else-if=\"item.bodys==='偶像翻牌'\">\r\n          <span v-html=\"JSON.parse(item.extInfo).answer\"></span><br>\r\n          <span v-html=\"JSON.parse(item.extInfo).question\"\r\n          class=\"fanpai\"></span>\r\n        </p>\r\n        <p class=\"msg-content\" v-else-if=\"JSON.parse(item.extInfo).replyName\">\r\n          <span v-html=\"JSON.parse(item.extInfo).text\"></span><br>\r\n          <span v-html=\"JSON.parse(item.extInfo).replyText\"\r\n            class=\"fanpai\"\r\n          ></span>\r\n        </p>\r\n        <p class=\"msg-content\" v-else-if=\"JSON.parse(item.extInfo).liveCover\">\r\n          <span v-html=\"'直播：'+JSON.parse(item.extInfo).liveTitle\"\r\n            @click=\"getLivePage(JSON.parse(item.extInfo).liveId)\"\r\n            style=\"cursor: pointer; color: blue;\"\r\n          ></span><br>\r\n        </p>\r\n        <p class=\"msg-content\" v-else-if=\"item.msgType==='AUDIO'\" @click=\"stop\">\r\n          <el-button @click=\"getAudio(JSON.parse(item.bodys).url)\">\r\n            语音消息 {{ JSON.parse(item.bodys).dur/1000 }}s\r\n          </el-button>\r\n        </p>\r\n        <p class=\"msg-content\" v-else-if=\"item.msgType==='VIDEO'\">\r\n          <video controls :src=\"JSON.parse(item.bodys).url\" alt class=\"msg-video\"></video>\r\n        </p>\r\n        <p\r\n          class=\"msg-content\"\r\n          v-else-if=\"item.msgType==='TEXT'\"\r\n          v-html=\"JSON.parse(item.extInfo).text\"\r\n        ></p>\r\n      </div>\r\n    </transition-group>\r\n    <div class=\"button\" @click=\"getMore\">\r\n      <i class=\"el-icon-arrow-down\" v-show=\"msgList[0]\"></i>\r\n    </div>\r\n  </div>\r\n</template>\r\n<script>\r\nexport default {\r\n  name: 'msgList',\r\n  data() {\r\n    return {\r\n      nextTime: 0,\r\n      base64Str: '',\r\n      answerContent: {},\r\n      msgList: []\r\n    }\r\n  },\r\n  props: ['ownerId','roomId'],\r\n  methods: {\r\n    async getMsgList() { // 获取成员房间所有消息\r\n      const res = await this.ajax('/getRoomBoard',{token: this.$store.getters.getToken,ownerId: this.ownerId,roomId:this.roomId},'POST')\r\n      this.msgList = res.content.message\r\n      this.nextTime = res.content.nextTime\r\n    },\r\n    async getMore() { // 获取更多消息\r\n      const res = await this.ajax('getRoomBoard',{token: this.$store.getters.getToken,\r\n          ownerId: this.ownerId,\r\n          roomId:this.roomId,\r\n          nextTime: this.nextTime},'POST')\r\n      this.msgList = this.msgList.concat(res.content.message)\r\n      this.nextTime = res.content.nextTime\r\n      this.$store.commit('saveScrollTop')\r\n    },\r\n    async getAnswer(questionId, answerId, title) { // 获取翻牌消息，以弹出框形式呈现\r\n      const h = this.$createElement;\r\n      const res = await this.ajax('/getAnswer',{\r\n          questionId,\r\n          answerId,\r\n          token: this.$store.getters.getToken\r\n        },'POST')\r\n      this.answerContent = res.content;\r\n      this.$msgbox({\r\n        title,\r\n        message: h(\"div\", null, [\r\n          h(\"p\", null, this.answerContent.answer),\r\n          h(\"p\", { style: \"color: #ccc\" }, this.answerContent.question)\r\n        ]),\r\n        confirmButtonText: \"确定\"\r\n      });\r\n    },\r\n    async getAudio(url){ // 获取语音消息\r\n      const res = await this.ajax('getAudio',{url},'POST')\r\n      if(res.status === 200){\r\n        // eslint-disable-next-line\r\n        RongIMLib.RongIMVoice.init()\r\n        this.base64Str = res.message\r\n        // eslint-disable-next-line\r\n        RongIMLib.RongIMVoice.stop()\r\n        // eslint-disable-next-line\r\n        RongIMLib.RongIMVoice.play(this.base64Str)\r\n      }\r\n    },\r\n    stop(){ // 暂停语音播放\r\n      // eslint-disable-next-line\r\n      RongIMLib.RongIMVoice.init()\r\n      // eslint-disable-next-line\r\n      RongIMLib.RongIMVoice.stop()\r\n    },\r\n    getLivePage(id) { // 跳转到该成员的直播列表页面\r\n      this.$router.push({name:'livepage',params:{id,type: 1}})\r\n    },\r\n    getMemberDetail(memberName){ // 跳转到成员列表页面\r\n      let n = []\r\n      if(memberName.includes('-')){\r\n        n = memberName.split('-')\r\n      }else{\r\n        n = [memberName]\r\n      }\r\n      this.$router.push({name:'memberlist',params: {group: '1', memberName: n[n.length-1]}})\r\n    }\r\n  },\r\n  created() {\r\n    this.getMsgList()\r\n  },\r\n  // watch: {\r\n  //   msgList: function() { // 将得到的消息列表的 extInfo 转换为对象\r\n  //     this.msgList.forEach(item => {\r\n  //       item.extInfo = JSON.parse(item.extInfo);\r\n  //       // if (item.bodys.includes(\"amr\")) {\r\n  //       //   this.amr = JSON.parse(item.bodys);\r\n  //       // }\r\n  //     });\r\n  //   }\r\n  // }\r\n}\r\n</script>\r\n<style lang=\"less\" scoped>\r\n@import '../../assets/less/global';\r\n.msg-list {\r\n  div{\r\n    .msg-item {\r\n      max-width: 520px;\r\n      min-width: 400px;\r\n      flex: 1;\r\n      &:hover {\r\n        background-color: #efefef;\r\n      }\r\n      .msg-time {\r\n        font-size: 12px;\r\n      }\r\n      .msg-content {\r\n        .msg-flip {\r\n          cursor: pointer;\r\n        }\r\n        .msg-img {\r\n          width: 100%;\r\n        }\r\n        .live-push{\r\n          cursor: pointer;\r\n        }\r\n        .fanpai {\r\n          font-size: 14px;\r\n          color: #999;\r\n        }\r\n      }\r\n      .msg-sender {\r\n        .flex-align-center();\r\n        border-bottom: 1px solid #ccc;\r\n        padding-bottom: 10px;\r\n        text-decoration: none;\r\n        color: #000;\r\n        line-height: 1.5;\r\n        .sender-avatar {\r\n          width: 20px;\r\n        }\r\n        .sender-name {\r\n          line-height: 20px;\r\n          font-size: 15px;\r\n          display: inline-block;\r\n          margin-left: 5px;\r\n          cursor: pointer;\r\n        }\r\n      }\r\n    }\r\n  }\r\n  .button{\r\n    .flex-all-center();\r\n    .button-container();\r\n  }\r\n}  \r\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./msgList.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./msgList.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./msgList.vue?vue&type=template&id=1b03bdfa&scoped=true&\"\nimport script from \"./msgList.vue?vue&type=script&lang=js&\"\nexport * from \"./msgList.vue?vue&type=script&lang=js&\"\nimport style0 from \"./msgList.vue?vue&type=style&index=0&id=1b03bdfa&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"1b03bdfa\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{ref:\"board\",staticClass:\"board-list\"},[_c('transition-group',{attrs:{\"tag\":\"div\"}},_vm._l((_vm.commentList),function(item){return _c('div',{key:item.msgidClient,staticClass:\"board-item my-card\",class:{isSpec:JSON.parse(item.extInfo).user.userId===655632}},[_c('div',{staticClass:\"sender-info\"},[_c('img',{staticClass:\"sender-img\",attrs:{\"src\":_vm._f(\"picPathFormat\")(JSON.parse(item.extInfo).user.avatar),\"alt\":\"\"}}),_c('p',{staticClass:\"board-name\",domProps:{\"innerHTML\":_vm._s(JSON.parse(item.extInfo).user.nickName)},on:{\"click\":function($event){_vm.getUserInfo(JSON.parse(item.extInfo))}}})]),_c('p',{staticClass:\"board-content\",domProps:{\"innerHTML\":_vm._s(JSON.parse(item.extInfo).text)}})])}),0),(_vm.showInfo)?_c('div',{on:{\"click\":function($event){_vm.showInfo = !_vm.showInfo}}},[_c('popup-info',{attrs:{\"info\":_vm.userInfo}})],1):_vm._e(),_c('div',{staticClass:\"button\",on:{\"click\":_vm.getMore}},[_c('i',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.commentList[0]),expression:\"commentList[0]\"}],staticClass:\"el-icon-arrow-down\"})])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"board-list\" ref=\"board\">\r\n    <!-- <div class=\"board-item my-card\" v-if=\"topData.senderName\">\r\n      <div class=\"sender-info\">\r\n        <img :src=\"topData.senderAvatar | picPathFormat\" alt class=\"sender-img\">\r\n        <p class=\"board-name\" \r\n          @click=\"getUserInfo(topData)\"\r\n          style=\"display: flex;justify-content:space-between;width:100%;\"\r\n        >\r\n          <span>{{topData.senderName}}</span>\r\n          <el-tag size=\"mini\" type=\"danger\" color=\"#eee\">本周TOP1</el-tag>\r\n        </p>\r\n      </div>\r\n      <p class=\"board-content\" v-html=\"topData.text || topData.content + ' ' + topData.giftName\"></p>\r\n    </div> -->\r\n    <transition-group tag=\"div\">\r\n      <div class=\"board-item my-card\"\r\n        :class=\"{isSpec:JSON.parse(item.extInfo).user.userId===655632}\"\r\n        v-for=\"item in commentList\" :key=\"item.msgidClient\"\r\n      >\r\n        <div class=\"sender-info\">\r\n          <img :src=\"JSON.parse(item.extInfo).user.avatar | picPathFormat\" alt class=\"sender-img\">\r\n          <p class=\"board-name\" v-html=\"JSON.parse(item.extInfo).user.nickName\" @click=\"getUserInfo(JSON.parse(item.extInfo))\"></p>\r\n        </div>\r\n        <p class=\"board-content\" v-html=\"JSON.parse(item.extInfo).text\"></p>\r\n      </div>\r\n    </transition-group>\r\n    <div v-if=\"showInfo\" @click=\"showInfo = !showInfo\">\r\n      <popup-info :info=\"userInfo\"></popup-info>\r\n    </div>\r\n    <div class=\"button\" @click=\"getMore\">\r\n      <i class=\"el-icon-arrow-down\" v-show=\"commentList[0]\"></i>\r\n    </div>\r\n  </div>\r\n</template>\r\n<script>\r\nimport popupInfo from './popupInfo'\r\nexport default {\r\n  name: 'commentList',\r\n  data(){\r\n    return {\r\n      nextTime: 0,\r\n      commentList: [],\r\n      showInfo: false,\r\n      userInfo: 0,\r\n      topData: {}\r\n    }\r\n  },\r\n  props: ['roomId'],\r\n  methods: {\r\n    async getComments() { // 获取成员房间留言列表\r\n      const res = await this.ajax('/getComments',{id:this.roomId,token: this.$store.getters.getToken},'POST')\r\n      // if(res.content.top1Data){\r\n      //   this.topData = JSON.parse(res.content.top1Data.extInfo)\r\n      // }\r\n      this.commentList = res.content.message;\r\n      this.nextTime = res.content.nextTime\r\n    },\r\n    async getMore() {\r\n      const res = await this.ajax('/getComments',{id:this.id,token: this.$store.getters.getToken,nextTime: this.nextTime},'POST')\r\n      this.commentList = this.commentList.concat(res.content.message)\r\n    },\r\n    getUserInfo(info){ // 获取聚聚信息\r\n      this.userInfo = info\r\n      this.showInfo = true\r\n    }\r\n  },\r\n  created() {\r\n    this.getComments()\r\n  },\r\n  components: {\r\n    popupInfo\r\n  }\r\n}\r\n</script>\r\n<style lang=\"less\" scoped>\r\n@import '../../assets/less/global';\r\n.board-list {\r\n  .user-info{\r\n    width: calc(100vw);\r\n    height: calc(100vh);\r\n    position: fixed;\r\n    top: 0;\r\n    left: 0;\r\n    background-color: rgba(0,0,0,0.3);\r\n    .popup-info{\r\n      width: 240px;\r\n      height: 200px;\r\n      background-color: #fff;\r\n      border-radius: 5px;\r\n      text-align: center;\r\n      img{\r\n        width: 80px;\r\n        height: 80px;\r\n        border-radius: 50%;\r\n      }\r\n    }\r\n  }\r\n  .board-item {\r\n    display: flex;\r\n    flex-direction: column;\r\n    border: 1px solid #777;\r\n    background-color: #666;\r\n    max-width: 360px;\r\n    min-width: 300px;\r\n    &:hover {\r\n      background-color: #555;\r\n    }\r\n    &.isSpec{\r\n      background-color: #999;\r\n      border: 1px solid #999;\r\n    }\r\n    .sender-info {\r\n      .flex-align-center();\r\n      justify-content: flex-start;\r\n      border-bottom: 1px solid #ccc;\r\n      .sender-img {\r\n        width: 30px;\r\n        height: 30px;\r\n        border-radius: 50%;\r\n        margin-right: 10px;\r\n      }\r\n      .board-name {\r\n        color: #eee;\r\n        cursor: pointer;\r\n      }\r\n    }\r\n    .board-content {\r\n      color: #fff;\r\n    }\r\n  }\r\n  .button{\r\n    .button-container();\r\n    .flex-all-center();\r\n  }\r\n}\r\n</style>\r\n\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./commentList.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./commentList.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./commentList.vue?vue&type=template&id=031dfe8e&scoped=true&\"\nimport script from \"./commentList.vue?vue&type=script&lang=js&\"\nexport * from \"./commentList.vue?vue&type=script&lang=js&\"\nimport style0 from \"./commentList.vue?vue&type=style&index=0&id=031dfe8e&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"031dfe8e\",\n  null\n  \n)\n\nexport default component.exports","<template>\r\n  <div class=\"msg-container\" ref=\"bgPic\">\r\n    <div\r\n      class=\"top\"\r\n      @click=\"toTop\"\r\n    >\r\n      <i class=\"el-icon-arrow-up\"></i>\r\n    </div>\r\n    <div class=\"show-all-msg\">\r\n      <i class=\"el-icon-arrow-left\" @click=\"shouldShowAllMsg = !shouldShowAllMsg\"></i>\r\n    </div>\r\n    <div class=\"list\">\r\n      <transition-group>\r\n        <msg-list :key=\"1\" :ownerId=\"ownerId\" :roomId=\"roomId\" v-show=\"!shouldShowAllMsg\"></msg-list>\r\n        <comment-list :key=\"2\" :roomId=\"roomId\" v-show=\"shouldShowAllMsg\"></comment-list>\r\n      </transition-group>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport msgList from '../subComponents/msgList'\r\nimport commentList from '../subComponents/commentList'\r\nexport default {\r\n  name: \"roommsg\",\r\n  data() {\r\n    return {\r\n      ownerId: this.$route.params.ownerId,\r\n      roomId: this.$route.params.roomId,\r\n      bgPath: this.$route.params.bgPath || JSON.parse(localStorage.getItem('bgPath')),\r\n      top: document.body.scrollTop,\r\n      shouldShowAllMsg: false\r\n    };\r\n  },\r\n  methods: {\r\n    toTop() {\r\n      document.body.scrollTop = 0;\r\n      document.documentElement.scrollTop = 0;\r\n    }\r\n  },\r\n  mounted() {\r\n    localStorage.setItem('bgPath',JSON.stringify(this.bgPath))\r\n    this.bgPath = \"http://source.48.cn\" + this.bgPath;\r\n    this.$refs.bgPic.style.background = \"url(\" + this.bgPath + \")\";\r\n    this.$refs.bgPic.style.backgroundPosition = \"center center\";\r\n    this.$refs.bgPic.style.backgroundAttachment = \"fixed\";\r\n  },\r\n  watch: {\r\n    top: function() {\r\n      this.top = document.body.scrollTop;\r\n    }\r\n  },\r\n  components: {\r\n    msgList,\r\n    commentList\r\n  }\r\n};\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n@import '../../assets/less/global';\r\n.msg-container {\r\n  padding: 10px 10px 10px 10px;\r\n  display: flex;\r\n  justify-content: center;\r\n  flex-wrap: wrap;\r\n  .list{\r\n    width: 85%;\r\n    display: flex;\r\n    justify-content: space-around;\r\n  }\r\n  .comment-layer {\r\n    width: 100%;\r\n    height: 20px;\r\n    padding-bottom: 10px;\r\n    padding-right: 10px;\r\n    justify-content: flex-end;\r\n    align-items: center;\r\n    display: none;\r\n  }\r\n  .top{\r\n    .backToTop();\r\n    .flex-all-center();\r\n  }\r\n  .show-all-msg{\r\n    position: fixed;\r\n    right: 10%;\r\n    background-color: #fff;\r\n    width: 30px;\r\n    height: 30px;\r\n    .flex-all-center();\r\n    cursor: pointer;\r\n  }\r\n  @media screen and (max-width: 768px) {\r\n    .board-list {\r\n      display: none;\r\n    }\r\n    .comment-layer {\r\n      display: flex;\r\n    }\r\n  }\r\n  @media screen and (min-width: 1368px) {\r\n    .list{\r\n      width: 1160px;\r\n    }\r\n  }\r\n}\r\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./roommsg.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./roommsg.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./roommsg.vue?vue&type=template&id=f6756a72&scoped=true&\"\nimport script from \"./roommsg.vue?vue&type=script&lang=js&\"\nexport * from \"./roommsg.vue?vue&type=script&lang=js&\"\nimport style0 from \"./roommsg.vue?vue&type=style&index=0&id=f6756a72&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"f6756a72\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--10-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./msgList.vue?vue&type=style&index=0&id=1b03bdfa&lang=less&scoped=true&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--10-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./msgList.vue?vue&type=style&index=0&id=1b03bdfa&lang=less&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"user-info\"},[(_vm.info.user.avatar)?_c('div',{staticClass:\"popup-info\"},[_c('p',{staticStyle:{\"color\":\"white\"}},[_vm._v(\"·\")]),_c('img',{staticClass:\"juju-avatar\",attrs:{\"src\":_vm._f(\"picPathFormat\")(_vm.info.user.avatar),\"alt\":\"\"},on:{\"click\":_vm.goToUserInfo}}),_c('p',{staticClass:\"name\"},[_vm._v(\"\\n      \"+_vm._s(_vm.info.user.nickName)+\"\\n      \"),_c('el-tag',{attrs:{\"size\":\"mini\"}},[_vm._v(_vm._s('lv.' + (_vm.info.user.level)))])],1)]):_vm._e()])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"user-info\">\r\n    <div class=\"popup-info\" v-if=\"info.user.avatar\">\r\n      <p style=\"color: white\">·</p>\r\n      <img class=\"juju-avatar\" @click=\"goToUserInfo\" :src=\"info.user.avatar | picPathFormat\" alt=\"\">\r\n      <p class=\"name\">\r\n        {{info.user.nickName}}\r\n        <el-tag size=\"mini\">{{'lv.' + (info.user.level)}}</el-tag>\r\n      </p>\r\n    </div>\r\n  </div>\r\n</template>\r\n<script>\r\nexport default {\r\n  props: ['id','info'],\r\n  methods: {\r\n    goToUserInfo(){ // 点击跳转到聚聚详细信息页面\r\n      this.$router.push({\r\n        name: 'userinfo',\r\n        params: {\r\n          id: this.info.user.userId\r\n        }\r\n      })\r\n    }\r\n  }\r\n}\r\n</script>\r\n<style lang=\"less\" scoped>\r\n@import '../../assets/less/global';\r\n.user-info{\r\n  .flex-all-center();\r\n  z-index: 101;\r\n  width: calc(100vw);\r\n  height: calc(100vh);\r\n  position: fixed;\r\n  top: 0;\r\n  left: 0;\r\n  background-color: rgba(0,0,0,0.3);\r\n  .popup-info{\r\n    width: 240px;\r\n    height: 200px;\r\n    background-color: #fff;\r\n    border-radius: 5px;\r\n    text-align: center;\r\n    overflow: hidden;\r\n    .juju-avatar{\r\n      width: 80px;\r\n      height: 80px;\r\n      border-radius: 50%;\r\n      cursor: pointer;\r\n    }\r\n    .name{\r\n      color: #000;\r\n    }\r\n    .alt-img{\r\n      height: 100%;\r\n    }\r\n  }\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./popupInfo.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./popupInfo.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./popupInfo.vue?vue&type=template&id=76e71436&scoped=true&\"\nimport script from \"./popupInfo.vue?vue&type=script&lang=js&\"\nexport * from \"./popupInfo.vue?vue&type=script&lang=js&\"\nimport style0 from \"./popupInfo.vue?vue&type=style&index=0&id=76e71436&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"76e71436\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--10-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./roommsg.vue?vue&type=style&index=0&id=f6756a72&lang=less&scoped=true&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--10-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./roommsg.vue?vue&type=style&index=0&id=f6756a72&lang=less&scoped=true&\""],"sourceRoot":""}